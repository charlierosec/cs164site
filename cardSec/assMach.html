<html>
    <head>
   		<title>Assembly and Machine Language</title>
        <base href="https://www.cs.drexel.edu/~src322/cs164site/">
   		<link rel="stylesheet" type="text/css" href="cardSec/cardiaccss.css">
        <script src="sidebar.js"></script>
    </head>
    <body>
    	<div class="sideBar" id="sideBar"></div>
        <script>setupSidebar();</script>

	    <div class="mainInfo">
	    	<div class="prevnextcontent">
	    		<div class="leftprev">
	    			<a href="cardSec/program.html">Previous Section</a> : Programming the CARDIAC : 5.2
	    		</div>
	    		<div class="rightnext">
	    			Answers : <a href="answers.html">Next Section</a>
	    		</div>
	    		<br>
	    	</div>

	    	<hr>
   			<h1>5.3 : Assembly and Machine Language</h1>
				<hr>
   			<p>
                We finally have all the tools we need to program the CARDIAC.
                Let's bring everything we know together and do some computing.
                When we write code, we don't just magically pull numbers out of thin air.
                Whenever you write a program, it is very important to plan out what you're gonna do.
                Assembly Code is sorta like the "planning" machine code.
                Machine Code is the hard numbers, nothing else.
                Assembly code uses words and alongside machine code, make the code very clear and easy to debug.
                Let's write a program that adds a bunch of numbers until a negative number is entered.
                <br>
                <br>
                So when writing assembly code, there are 3 main columns; 
                the memory location's name, the operation and then what the operation applies to.
                Below is an example.
			</p>
            <code>
                <pre>
   crntVal DATA   000
   sum     DATA   000

   start   INP    crntVal
           CLA    crntVal
           TAC    output
           ADD    sum
           STO    sum
           JMP    start
   end     OUT    sum
           HRS
                </pre>
            </code>
            <p>
                Let's read along the code and understand what's going on.
                You'll learn so much more about logic and computing and programming just by reading and understanding code.
                There's this idea that you can solve any programming problem by copying and pasting the question into Google,
                following the first link to StackExchange,
                then copying and pasting the first answer into your document.
                This is what we call bad coding techniques.
                Anyway, let's read through.
                First I made two data points called <code2>crntVal</code2>, or Current Value, and <code2>sum</code2>, the sum of the numbers.
                When I start my program, I want these values to be empty or 0.
                The first column has <code2>crntVal</code2> and <code2>sum</code2>.
                These are the names for the <code2>DATA</code2> points that contain <code2>000</code2>.
                Then we move to the <code2>start</code2> point.
                In the <code2>start</code2> point, there is the <code2>INP</code2> operation.
                This will input the top card in our deck into the memory location being referenced.
                The memory location being referenced is <code2>crntVal</code2>.
                Since there is nothing else to do, we move onto the next line.
                This line doesn't have an explicit memory point name.
                Since this is never referenced, it doesn't need a name.
                This line says we clear the accumulator and add <code2>crntVal</code2>.
                Now the accumulator has whatever value was in <code2>crntVal</code2> which was also the top card in our deck.
                As we move onto the next line, we test the accumulator and check if it's negative.
                If negative, we jump to memory location <code2>end</code2> where we output the sum and <code2>HRS</code2>, ending the program.
                If the accumulator is positive, we do nothing and continue on in our program.
                The next line is to <code2>ADD</code2> whatever is in the <code2>sum</code2> memory location.
                This just added the whatever number was at the top of our deck to a running sum.
                Now lets save the running sum.
                Right now its in the accumulator which contains an ever changin value.
                We want something more permanent.
                The next line uses the <code2>STO</code2> operation to store the value in the accumulator into the <code2>sum</code2> location.
                Finally we move onto the <code2>JMP</code2> operation which jumps to the <code2>start</code2> again.
                <br>
                <br>
                Now that we know what our code does, let's convert this into something the CARDIAC can use.
                Instead of names for the memory point, we're going to use the actual numbers for the memory point.
                When working with the CARDIAC, typically you use memory point 00-02 for bootstrapping a deck,
                memory points 03-09 for any variables or data points to use and 10-99 for the lines of code.
                So when doing machine code, instead of three columns, there's only 2.
                One column is the memory location, the other is the operation.
                Below I converted the assembly code from above into machine code.
            </p>
            <code>
                <pre>
   03   000
   04   000

   10   003
   11   103
   12   316
   13   204
   14   604
   15   810
   16   504
   17   900
                </pre>
            </code>
            <p>
                See how above, the first digit of the 3 digit operation is the opcode that relates to the operation we were doing.
                The second two digits relate to the memory point they're referencing.
                This code does the exact same thign as the assembly code above.
                Assembly code is for people to understand.
                Machine code is for computers to understand.
                To run this, I'd put each of these commands in their corresponding memory points.
                I'd set my PC, to 10 since that is where I want my program to begin.
                Then fill my deck with numbers I want to add.
                Finally you step through the program.
            </p>     

            <hr>
	    	<div class="prevnextcontent">
                <div class="leftprev">
                    <a href="cardSec/program.html">Previous Section</a> : Programming the CARDIAC : 5.2
                </div>
                <div class="rightnext">
                    Answers : <a href="answers.html">Next Section</a>
                </div>
	    	</div>
    	</div>
    </body>
</html>
